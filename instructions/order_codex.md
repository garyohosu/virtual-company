# Order for Codex CLI - Virtual Company

## ðŸ”µ BEFORE YOU START: READ AGENTS.MD FIRST

**This is CRITICAL**: Before executing this file, read:

ðŸ‘‰ **https://raw.githubusercontent.com/garyohosu/virtual-company/main/Agents.md**

Agents.md contains:
- Your role as Codex agent
- Universal workflow for all agents
- How to output RESULT.md
- How to commit and push
- Everything you need to understand the framework

**After reading Agents.md, come back here and execute the steps below.**

---

# Codex CLI Specific Instructions

## Your Role (From Agents.md)

You are the **Code Generator**. Your job:
1. Read the task specification
2. Generate code that exactly matches it
3. Add error handling
4. Add documentation
5. Output RESULT.md (human-readable) + EXECUTION_LOG.md

---

## Step-by-Step Execution

### Step 1: git pull

```bash
cd ~/virtual-company
git pull origin main
```

### Step 2: Configure Git (First Time Only)

```bash
git config user.name "Codex CLI"
git config user.email "codex@virtualcompany.local"
```

### Step 3: Read Your Specification

```bash
cat tasks/CURRENT_TASK.md
```

**Understand completely what needs to be implemented.**

### Step 4: Generate Code

Implement the exact specification with:
- âœ… All requirements from CURRENT_TASK.md
- âœ… Error handling for edge cases
- âœ… Input validation
- âœ… Clear comments and documentation
- âœ… Code standards followed (PEP 8, etc.)
- âœ… No hardcoded values

### Step 5: Create RESULT.md

```bash
mkdir -p results/codex

cat > results/codex/RESULT.md << 'EOF'
# âœ… Codex Execution Result

**Task**: [Task Name from CURRENT_TASK.md]
**Date**: $(date -u +"%Y-%m-%dT%H:%M:%SZ")
**Status**: âœ… SUCCESS

## Summary

Generated [filename] with complete implementation of all specifications.

## What Was Produced

- ðŸ“„ `results/codex/[filename]` - The generated code
- All requirements from CURRENT_TASK.md implemented
- Error handling: âœ…
- Input validation: âœ…
- Documentation: âœ…
- Code standards: âœ…

## Implementation Checklist

- âœ… All requirements implemented
- âœ… Error handling present
- âœ… Input validation present
- âœ… Code well-documented
- âœ… Code standards followed
- âœ… No hardcoded values

## Next Steps

ðŸ‘‰ **Gemini CLI** will now review this code for quality and risks.

---
**Generated by**: Codex CLI
**View Next Step**: See results/gemini/RESULT.md after Gemini runs
**Repository**: https://github.com/garyohosu/virtual-company
EOF
```

### Step 6: Create EXECUTION_LOG.md

```bash
cat > results/codex/EXECUTION_LOG.md << 'EOF'
# Execution Log - Codex CLI

**Task**: [from CURRENT_TASK.md]
**Date**: $(date -u +"%Y-%m-%dT%H:%M:%SZ")
**Status**: SUCCESS

## Input Processing
- CURRENT_TASK.md read: âœ…
- Requirements understood: âœ…
- Specification analyzed: âœ…

## Execution Steps
1. Repository updated via git pull
2. Task specification analyzed
3. Code generated per specifications
4. Error handling implemented
5. Input validation added
6. Documentation added
7. Code standards verified

## Output Generated
- results/codex/[filename] - Generated code
- results/codex/RESULT.md - Summary (this task)
- results/codex/EXECUTION_LOG.md - Technical log

## Next Steps
â†’ Gemini CLI will review and analyze this code
EOF
```

### Step 7: Update changelog.md

```bash
cat >> changelog.md << 'EOF'

## [$(date +%Y-%m-%d)] - Codex CLI

**Task**: [from CURRENT_TASK.md]
**Status**: COMPLETE

**Generated**:
- results/codex/[filename]

**ðŸ“– View Result**: `results/codex/RESULT.md`

**Next Agent**: Gemini CLI (Code Review)
EOF
```

### Step 8: Git Commit & Push

```bash
cd ~/virtual-company

git add results/codex/*
git add changelog.md

git commit -m "Codex: [Task ID] - Code generation complete

Generated [filename] with full specifications.
See results/codex/RESULT.md for summary."

git push origin main
```

**Verify the push was successful.**

---

## âœ… Success Criteria

- [ ] CURRENT_TASK.md fully understood
- [ ] Code generated per specifications
- [ ] Error handling implemented
- [ ] Input validation present
- [ ] Code documentation complete
- [ ] Code standards followed
- [ ] RESULT.md created (human-readable)
- [ ] EXECUTION_LOG.md created (technical)
- [ ] changelog.md updated
- [ ] git push successful
- [ ] Ready for Gemini to review

---

## âš ï¸ If Something Goes Wrong

If you encounter issues:

1. **Document the error** in EXECUTION_LOG.md
2. **Mark status** as BLOCKED or PARTIAL
3. **Still push to GitHub** (so humans can see)
4. **Don't stop the pipeline**

**Example**:
```bash
cat > results/codex/EXECUTION_LOG.md << 'EOF'
Status: BLOCKED
Error: [Description]
Attempted steps: [List]
Reason: [Why it failed]
EOF

git push origin main
```

---

## ðŸ“– Remember

This is part of a larger system. See **Agents.md** for:
- Complete workflow
- How Gemini uses your output
- How Claude and Genspark work
- The full automation pattern

---

**Last Updated**: 2025-01-30
**Version**: 2.0 (Read Agents.md First)
